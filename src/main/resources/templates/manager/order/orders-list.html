<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
     <!-- Title Meta -->
     <meta charset="utf-8" />
     <title>Danh Sách Đơn Hàng | Deeg Manager</title>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta name="description" content="Hệ thống quản lý đơn hàng Deeg" />
     <meta name="author" content="Deeg" />
     <meta http-equiv="X-UA-Compatible" content="IE=edge" />

     <!-- App favicon -->
     <link rel="shortcut icon" th:href="@{/assets/images/favicon.ico}">

     <!-- Vendor css (Require in all Page) -->
     <link th:href="@{/assets/css/vendor.min.css}" rel="stylesheet" type="text/css" />

     <!-- Icons css (Require in all Page) -->
     <link th:href="@{/assets/css/icons.min.css}" rel="stylesheet" type="text/css" />

     <!-- App css (Require in all Page) -->
     <link th:href="@{/assets/css/app.min.css}" rel="stylesheet" type="text/css" />

     <!-- Manager Custom CSS -->
     <link th:href="@{/css/manager/manager-custom.css}" rel="stylesheet" type="text/css" />
     <link th:href="@{/css/manager/orders-custom.css}" rel="stylesheet" type="text/css" />

     <!-- Theme Config js (Require in all Page) -->
     <script th:src="@{/assets/js/config.js}"></script>

     <!-- jQuery -->
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

     <!-- Iconify -->
     <script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>
</head>

<body>

<!-- START Wrapper -->
<div class="wrapper">

     <!-- ========== Topbar Start ========== -->
     <div th:include="~{fragments/manager/header.html}"></div>
     <!-- ========== Topbar End ========== -->

<!--               Start menu app-->
     <div th:include="~{fragments/manager/menu_app.html}"></div>

     <!-- ==================================================== -->
     <!-- Start right Content here -->
     <!-- ==================================================== -->
     <div class="page-content">

          <!-- Start Container Fluid -->
          <div class="container-xxl">

               <!-- Statistics Cards -->
               <div class="row g-3 mb-4" id="statistics-container">
                    <div class="col-md-6 col-xl-3">
                         <div class="card stat-card h-100 shadow-sm">
                              <div class="card-body">
                                   <div class="d-flex align-items-center">
                                        <div class="avatar-sm bg-danger bg-opacity-10 rounded p-3 me-3">
                                             <iconify-icon icon="solar:cart-cross-bold-duotone" class="text-danger" width="24" height="24"></iconify-icon>
                                        </div>
                                        <div class="flex-grow-1">
                                             <h4 class="mb-0" id="cancel-orders">0</h4>
                                             <p class="text-muted mb-0">Đã Hủy</p>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>

                    <div class="col-md-6 col-xl-3">
                         <div class="card stat-card h-100 shadow-sm">
                              <div class="card-body">
                                   <div class="d-flex align-items-center">
                                        <div class="avatar-sm bg-primary bg-opacity-10 rounded p-3 me-3">
                                             <iconify-icon icon="solar:delivery-bold-duotone" class="text-primary" width="24" height="24"></iconify-icon>
                                        </div>
                                        <div class="flex-grow-1">
                                             <h4 class="mb-0" id="shipping-orders">0</h4>
                                             <p class="text-muted mb-0">Đang Giao</p>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>

                    <div class="col-md-6 col-xl-3">
                         <div class="card stat-card h-100 shadow-sm">
                              <div class="card-body">
                                   <div class="d-flex align-items-center">
                                        <div class="avatar-sm bg-warning bg-opacity-10 rounded p-3 me-3">
                                             <iconify-icon icon="solar:box-bold-duotone" class="text-warning" width="24" height="24"></iconify-icon>
                                        </div>
                                        <div class="flex-grow-1">
                                             <h4 class="mb-0" id="instock-orders">0</h4>
                                             <p class="text-muted mb-0">Trong Kho</p>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>

                    <div class="col-md-6 col-xl-3">
                         <div class="card stat-card h-100 shadow-sm">
                              <div class="card-body">
                                   <div class="d-flex align-items-center">
                                        <div class="avatar-sm bg-success bg-opacity-10 rounded p-3 me-3">
                                             <iconify-icon icon="solar:check-circle-bold-duotone" class="text-success" width="24" height="24"></iconify-icon>
                                        </div>
                                        <div class="flex-grow-1">
                                             <h4 class="mb-0" id="delivered-orders">0</h4>
                                             <p class="text-muted mb-0">Đã Giao</p>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>

                    <div class="col-md-6 col-xl-3">
                         <div class="card stat-card h-100 shadow-sm">
                              <div class="card-body">
                                   <div class="d-flex align-items-center">
                                        <div class="avatar-sm bg-secondary bg-opacity-10 rounded p-3 me-3">
                                             <iconify-icon icon="solar:return-bold-duotone" class="text-secondary" width="24" height="24"></iconify-icon>
                                        </div>
                                        <div class="flex-grow-1">
                                             <h4 class="mb-0" id="return-orders">0</h4>
                                             <p class="text-muted mb-0">Trả Hàng</p>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>

               <!-- Orders Table -->
               <div class="row">
                    <div class="col-xl-12">
                         <div class="card">
                              <div class="card-header d-flex justify-content-between align-items-center flex-wrap">
                                   <div class="d-flex align-items-center mb-2 mb-md-0">
                                        <h4 class="card-title m-0 fs-5">
                                             <iconify-icon icon="solar:list-bold-duotone" class="me-2"></iconify-icon>
                                             Danh Sách Đơn Hàng
                                        </h4>
                                   </div>
                                   <div class="d-flex align-items-center gap-2 flex-nowrap">
                                        <select class="form-select form-select-sm" id="status-filter" style="width: 140px;">
                                             <option value="">Tất Cả</option>
                                             <option value="IN_STOCK">Trong Kho</option>
                                             <option value="SHIPPED">Đang Giao</option>
                                             <option value="DELIVERED">Đã Giao</option>
                                             <option value="CANCEL">Đã Hủy</option>
                                             <option value="RETURN">Trả Hàng</option>
                                        </select>
                                        <button class="btn btn-outline-primary btn-sm d-flex align-items-center flex-shrink-0" 
                                                id="refresh-button" 
                                                onclick="refreshOrders()">
                                             <iconify-icon icon="solar:refresh-bold-duotone" class="me-1" id="refresh-icon"></iconify-icon>
                                             <span>Làm mới</span>
                                        </button>
                                   </div>
                                   
                                   <style>
                                        /* Card Header - Responsive và hiển thị đầy đủ */
                                        .card-header {
                                             padding: 0.875rem 1.25rem;
                                             gap: 0.75rem;
                                        }
                                        
                                        .card-title {
                                             margin: 0 !important;
                                             font-size: 1.05rem !important;
                                             white-space: nowrap;
                                        }
                                        
                                        #refresh-button {
                                             flex-shrink: 0;
                                             padding: 0.35rem 0.75rem;
                                             font-size: 0.875rem;
                                             white-space: nowrap;
                                        }
                                        
                                        #status-filter {
                                             flex-shrink: 0;
                                             font-size: 0.875rem;
                                             width: 140px !important;
                                        }
                                        
                                        /* Responsive: xuống dòng trên màn hình nhỏ */
                                        @media (max-width: 768px) {
                                             .card-header {
                                                  flex-direction: column;
                                                  align-items: flex-start !important;
                                             }
                                             
                                             .card-header > div {
                                                  width: 100%;
                                             }
                                             
                                             .card-header > div:last-child {
                                                  justify-content: flex-start;
                                             }
                                        }
                                        
                                        /* Ẩn Scrollbar cho table */
                                        .table-responsive {
                                             max-height: none;
                                             overflow-x: auto;
                                             overflow-y: visible;
                                        }
                                        
                                        .table-responsive::-webkit-scrollbar {
                                             width: 6px;
                                             height: 6px;
                                        }
                                        
                                        .table-responsive::-webkit-scrollbar-track {
                                             background: transparent;
                                        }
                                        
                                        .table-responsive::-webkit-scrollbar-thumb {
                                             background: rgba(0,0,0,0.1);
                                             border-radius: 10px;
                                        }
                                        
                                        .table-responsive::-webkit-scrollbar-thumb:hover {
                                             background: rgba(0,0,0,0.2);
                                        }
                                        
                                        /* Scrollbar cho Firefox */
                                        .table-responsive {
                                             scrollbar-width: thin;
                                             scrollbar-color: rgba(0,0,0,0.1) transparent;
                                        }
                                        
                                        /* Ẩn scrollbar cho body nếu cần */
                                        body::-webkit-scrollbar {
                                             width: 6px;
                                        }
                                        
                                        body::-webkit-scrollbar-track {
                                             background: transparent;
                                        }
                                        
                                        body::-webkit-scrollbar-thumb {
                                             background: rgba(0,0,0,0.1);
                                             border-radius: 10px;
                                        }
                                        
                                        body::-webkit-scrollbar-thumb:hover {
                                             background: rgba(0,0,0,0.2);
                                        }
                                        
                                        /* Đảm bảo table hiển thị đầy đủ */
                                        .orders-table {
                                             width: 100%;
                                             min-width: 800px;
                                             table-layout: fixed;
                                        }
                                        
                                        .orders-table th,
                                        .orders-table td {
                                             padding: 0.75rem;
                                             vertical-align: middle;
                                        }
                                        
                                        /* Cột Mã ĐH */
                                        .orders-table th:nth-child(1),
                                        .orders-table td:nth-child(1) { 
                                             width: 10%;
                                             min-width: 80px;
                                        }
                                        
                                        /* Cột Ngày Tạo */
                                        .orders-table th:nth-child(2),
                                        .orders-table td:nth-child(2) { 
                                             width: 12%;
                                             min-width: 100px;
                                        }
                                        
                                        /* Cột Khách Hàng */
                                        .orders-table th:nth-child(3),
                                        .orders-table td:nth-child(3) { 
                                             width: 18%;
                                             min-width: 150px;
                                        }
                                        
                                        /* Cột Tổng Tiền */
                                        .orders-table th:nth-child(4),
                                        .orders-table td:nth-child(4) { 
                                             width: 15%;
                                             min-width: 100px;
                                        }
                                        
                                        /* Cột Thanh Toán */
                                        .orders-table th:nth-child(5),
                                        .orders-table td:nth-child(5) { 
                                             width: 15%;
                                             min-width: 100px;
                                        }
                                        
                                        /* Cột Trạng Thái */
                                        .orders-table th:nth-child(6),
                                        .orders-table td:nth-child(6) { 
                                             width: 15%;
                                             min-width: 100px;
                                        }
                                        
                                        /* Cột Thao Tác */
                                        .orders-table th:nth-child(7),
                                        .orders-table td:nth-child(7) { 
                                             width: 15%;
                                             min-width: 100px;
                                             text-align: center;
                                        }
                                   </style>
                                   
                                   <script>
                                        function refreshOrders() {
                                             const btn = document.getElementById('refresh-button');
                                             const icon = document.getElementById('refresh-icon');
                                             
                                             // Add loading state
                                             btn.disabled = true;
                                             
                                             // Trigger reflow to ensure animation restarts
                                             void btn.offsetWidth;
                                             
                                             // Add animation class
                                             icon.style.animation = 'spin 0.5s ease-in-out';
                                             
                                             // Simulate API call (replace with your actual refresh logic)
                                             setTimeout(() => {
                                                  // Your refresh logic here
                                                  
                                                  // Reset button state
                                                  btn.disabled = false;
                                                  icon.style.animation = '';
                                                  
                                                  // Show success feedback
                                                  const originalText = btn.querySelector('span').textContent;
                                                  btn.querySelector('span').textContent = 'Đã cập nhật';
                                                  
                                                  // Revert text after 2 seconds
                                                  setTimeout(() => {
                                                       btn.querySelector('span').textContent = originalText;
                                                  }, 2000);
                                             }, 1000);
                                        }
                                   </script>
                              </div>
                              <div class="card-body p-0">
                                   <div class="table-responsive">
                                        <table class="table orders-table align-middle mb-0 table-hover">
                                             <thead>
                                             <tr>
                                                  <th>Mã ĐH</th>
                                                  <th>Ngày Tạo</th>
                                                  <th>Khách Hàng</th>
                                                  <th>Tổng Tiền</th>
                                                  <th>Thanh Toán</th>
                                                  <th>Trạng Thái</th>
                                                  <th>Thao Tác</th>
                                             </tr>
                                             </thead>
                                             <tbody id="orders-table-body">
                                                  <!-- Orders will be loaded here via Ajax -->
                                                  <tr>
                                                       <td colspan="7" class="text-center py-4">
                                                            <div class="spinner-border text-primary" role="status">
                                                                 <span class="visually-hidden">Đang tải...</span>
                                                            </div>
                                                            <p class="mt-2 text-muted">Đang tải đơn hàng...</p>
                                                       </td>
                                                  </tr>
                                             </tbody>
                                        </table>
                                   </div>
                              </div>
                              <div class="card-footer border-top">
                                   <nav aria-label="Phân trang đơn hàng">
                                        <ul class="pagination justify-content-end mb-0" id="pagination-container">
                                             <!-- Pagination will be loaded here via Ajax -->
                                        </ul>
                                   </nav>
                              </div>
                         </div>
                    </div>
               </div>

               </div>
               <!-- End Container Fluid -->

               <!-- Order cancel fragment-->
               <div th:include="~{fragments/order/order_cancel.html}"></div>


          </div>
          <!-- ==================================================== -->
          <!-- End Page Content -->
          <!-- ==================================================== -->

     </div>

</div>
<!-- END Wrapper -->

<!-- Vendor Javascript (Require in all Page) -->
<script th:src="@{/assets/js/vendor.js}"></script>

<!-- App Javascript (Require in all Page) -->
<script th:src="@{/assets/js/app.js}"></script>

<!-- Manager Orders JS -->
<script th:src="@{/js/manager/manager-orders.js}"></script>

</body>


<!-- Mirrored from techzaa.in/larkon/admin/orders-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Nov 2024 14:46:46 GMT -->
</html>