<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Title Meta -->
    <meta charset="utf-8"/>
    <title>Product Edit | Larkon - Responsive Admin Dashboard Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A fully responsive premium admin dashboard template"/>
    <meta name="author" content="Techzaa"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <!-- App favicon -->
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/assets/images/favicon.ico}"/>

    <!-- Vendor CSS (Require in all Page) -->
    <link th:href="@{/assets/css/vendor.min.css}" rel="stylesheet" type="text/css"/>

    <!-- Icons CSS (Require in all Page) -->
    <link th:href="@{/assets/css/icons.min.css}" rel="stylesheet" type="text/css"/>

    <!-- App CSS (Require in all Page) -->
    <link th:href="@{/assets/css/app.min.css}" rel="stylesheet" type="text/css"/>

    <!-- Theme Config JS (Require in all Page) -->
    <script th:src="@{/assets/js/config.js}"></script>

</head>

<body>

<!-- START Wrapper -->
<div class="wrapper">

    <!-- ========== Topbar Start ========== -->
    <header class="topbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <div class="d-flex align-items-center">
                    <!-- Menu Toggle Button -->
                    <div class="topbar-item">
                        <button type="button" class="button-toggle-menu me-2">
                            <iconify-icon icon="solar:hamburger-menu-broken" class="fs-24 align-middle"></iconify-icon>
                        </button>
                    </div>

                    <!-- Menu Toggle Button -->
                    <div class="topbar-item">
                        <h4 class="fw-bold topbar-button pe-none text-uppercase mb-0">Product Edit</h4>
                    </div>
                </div>

                <div class="d-flex align-items-center gap-1">

                    <!-- Theme Color (Light/Dark) -->
                    <div class="topbar-item">
                        <button type="button" class="topbar-button" id="light-dark-mode">
                            <iconify-icon icon="solar:moon-bold-duotone" class="fs-24 align-middle"></iconify-icon>
                        </button>
                    </div>

                    <!-- Notification -->
                    <div class="dropdown topbar-item">
                        <button type="button" class="topbar-button position-relative"
                                id="page-header-notifications-dropdown" data-bs-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                            <iconify-icon icon="solar:bell-bing-bold-duotone" class="fs-24 align-middle"></iconify-icon>
                            <span class="position-absolute topbar-badge fs-10 translate-middle badge bg-danger rounded-pill">3<span
                                    class="visually-hidden">unread messages</span></span>
                        </button>
                        <div class="dropdown-menu py-0 dropdown-lg dropdown-menu-end"
                             aria-labelledby="page-header-notifications-dropdown">
                            <div class="p-3 border-top-0 border-start-0 border-end-0 border-dashed border">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <h6 class="m-0 fs-16 fw-semibold"> Notifications</h6>
                                    </div>
                                    <div class="col-auto">
                                        <a href="javascript: void(0);" class="text-dark text-decoration-underline">
                                            <small>Clear All</small>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div data-simplebar style="max-height: 280px;">
                                <!-- Item -->
                                <a href="javascript:void(0);" class="dropdown-item py-3 border-bottom text-wrap">
                                    <div class="d-flex">
                                        <div class="flex-shrink-0">
                                            <img src="/assets/images/users/avatar-1.jpg"
                                                 class="img-fluid me-2 avatar-sm rounded-circle" alt="avatar-1"/>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0"><span class="fw-medium">Josephine Thompson </span>commented
                                                on admin panel
                                                <span>" Wow üòç! this admin looks good and awesome design"</span></p>
                                        </div>
                                    </div>
                                </a>
                                <!-- Item -->
                                <a href="javascript:void(0);" class="dropdown-item py-3 border-bottom">
                                    <div class="d-flex">
                                        <div class="flex-shrink-0">
                                            <div class="avatar-sm me-2">
                                                                 <span class="avatar-title bg-soft-info text-info fs-20 rounded-circle">
                                                                      D
                                                                 </span>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 fw-semibold">Donoghue Susan</p>
                                            <p class="mb-0 text-wrap">
                                                Hi, How are you? What about our next meeting
                                            </p>
                                        </div>
                                    </div>
                                </a>
                                <!-- Item -->
                                <a href="javascript:void(0);" class="dropdown-item py-3 border-bottom">
                                    <div class="d-flex">
                                        <div class="flex-shrink-0">
                                            <img src="/assets/images/users/avatar-3.jpg"
                                                 class="img-fluid me-2 avatar-sm rounded-circle" alt="avatar-3"/>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 fw-semibold">Jacob Gines</p>
                                            <p class="mb-0 text-wrap">Answered to your comment on the cash flow
                                                forecast's graph üîî.</p>
                                        </div>
                                    </div>
                                </a>
                                <!-- Item -->
                                <a href="javascript:void(0);" class="dropdown-item py-3 border-bottom">
                                    <div class="d-flex">
                                        <div class="flex-shrink-0">
                                            <div class="avatar-sm me-2">
                                                                 <span class="avatar-title bg-soft-warning text-warning fs-20 rounded-circle">
                                                                      <iconify-icon
                                                                              icon="iconamoon:comment-dots-duotone"></iconify-icon>
                                                                 </span>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 fw-semibold text-wrap">You have received <b>20</b> new
                                                messages in the
                                                conversation</p>
                                        </div>
                                    </div>
                                </a>
                                <!-- Item -->
                                <a href="javascript:void(0);" class="dropdown-item py-3 border-bottom">
                                    <div class="d-flex">
                                        <div class="flex-shrink-0">
                                            <img src="/assets/images/users/avatar-5.jpg"
                                                 class="img-fluid me-2 avatar-sm rounded-circle" alt="avatar-5"/>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 fw-semibold">Shawn Bunch</p>
                                            <p class="mb-0 text-wrap">
                                                Commented on Admin
                                            </p>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="text-center py-3">
                                <a href="javascript:void(0);" class="btn btn-primary btn-sm">View All Notification <i
                                        class="bx bx-right-arrow-alt ms-1"></i></a>
                            </div>
                        </div>
                    </div>

                    <!-- Theme Setting -->
                    <div class="topbar-item d-none d-md-flex">
                        <button type="button" class="topbar-button" id="theme-settings-btn" data-bs-toggle="offcanvas"
                                data-bs-target="#theme-settings-offcanvas" aria-controls="theme-settings-offcanvas">
                            <iconify-icon icon="solar:settings-bold-duotone" class="fs-24 align-middle"></iconify-icon>
                        </button>
                    </div>

                    <!-- Activity -->
                    <div class="topbar-item d-none d-md-flex">
                        <button type="button" class="topbar-button" id="theme-settings-btn" data-bs-toggle="offcanvas"
                                data-bs-target="#theme-activity-offcanvas" aria-controls="theme-settings-offcanvas">
                            <iconify-icon icon="solar:clock-circle-bold-duotone"
                                          class="fs-24 align-middle"></iconify-icon>
                        </button>
                    </div>

                    <!-- User -->
                    <div class="dropdown topbar-item">
                        <a type="button" class="topbar-button" id="page-header-user-dropdown" data-bs-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">
                                        <span class="d-flex align-items-center">
                                             <img class="rounded-circle" width="32"
                                                  src="/assets/images/users/avatar-1.jpg" alt="avatar-3">
                                        </span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <!-- item-->
                            <h6 class="dropdown-header">Welcome Gaston!</h6>
                            <a class="dropdown-item" href="pages-profile.html">
                                <i class="bx bx-user-circle text-muted fs-18 align-middle me-1"></i><span
                                    class="align-middle">Profile</span>
                            </a>
                            <a class="dropdown-item" href="apps-chat.html">
                                <i class="bx bx-message-dots text-muted fs-18 align-middle me-1"></i><span
                                    class="align-middle">Messages</span>
                            </a>

                            <a class="dropdown-item" href="pages-pricing.html">
                                <i class="bx bx-wallet text-muted fs-18 align-middle me-1"></i><span
                                    class="align-middle">Pricing</span>
                            </a>
                            <a class="dropdown-item" href="pages-faqs.html">
                                <i class="bx bx-help-circle text-muted fs-18 align-middle me-1"></i><span
                                    class="align-middle">Help</span>
                            </a>
                            <a class="dropdown-item" href="auth-lock-screen.html">
                                <i class="bx bx-lock text-muted fs-18 align-middle me-1"></i><span class="align-middle">Lock screen</span>
                            </a>

                            <div class="dropdown-divider my-1"></div>

                            <a class="dropdown-item text-danger" href="auth-signin.html">
                                <i class="bx bx-log-out fs-18 align-middle me-1"></i><span
                                    class="align-middle">Logout</span>
                            </a>
                        </div>
                    </div>

                    <!-- App Search-->
                    <form class="app-search d-none d-md-block ms-2">
                        <div class="position-relative">
                            <input type="search" class="form-control" placeholder="Search..." autocomplete="off"
                                   value="">
                            <iconify-icon icon="solar:magnifer-linear" class="search-widget-icon"></iconify-icon>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </header>

    <!-- Activity Timeline -->
    <div>
        <div class="offcanvas offcanvas-end border-0" tabindex="-1" id="theme-activity-offcanvas"
             style="max-width: 450px; width: 100%;">
            <div class="d-flex align-items-center bg-primary p-3 offcanvas-header">
                <h5 class="text-white m-0 fw-semibold">Activity Stream</h5>
                <button type="button" class="btn-close btn-close-white ms-auto" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
            </div>

            <div class="offcanvas-body p-0">
                <div data-simplebar class="h-100 p-4">
                    <div class="position-relative ms-2">
                        <span class="position-absolute start-0  top-0 border border-dashed h-100"></span>
                        <div class="position-relative ps-4">
                            <div class="mb-4">
                                <span class="position-absolute start-0 avatar-sm translate-middle-x bg-danger d-inline-flex align-items-center justify-content-center rounded-circle text-light fs-20"><iconify-icon
                                        icon="iconamoon:folder-check-duotone"></iconify-icon></span>
                                <div class="ms-2">
                                    <h5 class="mb-1 text-dark fw-semibold fs-15 lh-base">Report-Fix / Update </h5>
                                    <p class="d-flex align-items-center">Add 3 files to <span
                                            class=" d-flex align-items-center text-primary ms-1"><iconify-icon
                                            icon="iconamoon:file-light"></iconify-icon> Tasks</span></p>
                                    <div class="bg-light bg-opacity-50 rounded-2 p-2">
                                        <div class="row">
                                            <div class="col-lg-6 border-end border-light">
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="bx bxl-figma fs-20 text-red"></i>
                                                    <a href="#!" class="text-dark fw-medium">Concept.fig</a>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="d-flex align-items-center gap-2">
                                                    <i class="bx bxl-file-doc fs-20 text-success"></i>
                                                    <a href="#!" class="text-dark fw-medium">larkon.docs</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <h6 class="mt-2 text-muted">Monday , 4:24 PM</h6>
                                </div>
                            </div>
                        </div>
                        <div class="position-relative ps-4">
                            <div class="mb-4">
                                <span class="position-absolute start-0 avatar-sm translate-middle-x bg-success d-inline-flex align-items-center justify-content-center rounded-circle text-light fs-20"><iconify-icon
                                        icon="iconamoon:check-circle-1-duotone"></iconify-icon></span>
                                <div class="ms-2">
                                    <h5 class="mb-1 text-dark fw-semibold fs-15 lh-base">Project Status
                                    </h5>
                                    <p class="d-flex align-items-center mb-0">Marked<span
                                            class=" d-flex align-items-center text-primary mx-1"><iconify-icon
                                            icon="iconamoon:file-light"></iconify-icon> Design </span> as <span
                                            class="badge bg-success-subtle text-success px-2 py-1 ms-1"> Completed</span>
                                    </p>
                                    <div class="d-flex align-items-center gap-3 mt-1 bg-light bg-opacity-50 p-2 rounded-2">
                                        <a href="#!" class="fw-medium text-dark">UI/UX Figma Design</a>
                                        <div class="ms-auto">
                                            <a href="#!" class="fw-medium text-primary fs-18" data-bs-toggle="tooltip"
                                               data-bs-title="Download" data-bs-placement="bottom">
                                                <iconify-icon icon="iconamoon:cloud-download-duotone"></iconify-icon>
                                            </a>
                                        </div>
                                    </div>
                                    <h6 class="mt-3 text-muted">Monday , 3:00 PM</h6>
                                </div>
                            </div>
                        </div>
                        <div class="position-relative ps-4">
                            <div class="mb-4">
                                <span class="position-absolute start-0 avatar-sm translate-middle-x bg-primary d-inline-flex align-items-center justify-content-center rounded-circle text-light fs-16">UI</span>
                                <div class="ms-2">
                                    <h5 class="mb-1 text-dark fw-semibold fs-15">Larkon Application UI v2.0.0 <span
                                            class="badge bg-primary-subtle text-primary px-2 py-1 ms-1"> Latest</span>
                                    </h5>
                                    <p>Get access to over 20+ pages including a dashboard layout, charts, kanban board,
                                        calendar, and pre-order E-commerce & Marketing pages.</p>
                                    <div class="mt-2">
                                        <a href="#!" class="btn btn-light btn-sm">Download Zip</a>
                                    </div>
                                    <h6 class="mt-3 text-muted">Monday , 2:10 PM</h6>
                                </div>
                            </div>
                        </div>
                        <div class="position-relative ps-4">
                            <div class="mb-4">
                                <span class="position-absolute start-0 translate-middle-x bg-success bg-gradient d-inline-flex align-items-center justify-content-center rounded-circle text-light fs-20"><img
                                        src="/assets/images/users/avatar-7.jpg" alt="avatar-5"
                                        class="avatar-sm rounded-circle"></span>
                                <div class="ms-2">
                                    <h5 class="mb-0 text-dark fw-semibold fs-15 lh-base">Alex Smith Attached Photos
                                    </h5>
                                    <div class="row g-2 mt-2">
                                        <div class="col-lg-4">
                                            <a href="#!">
                                                <img src="/assets/images/small/img-6.jpg" alt=""
                                                     class="img-fluid rounded">
                                            </a>
                                        </div>
                                        <div class="col-lg-4">
                                            <a href="#!">
                                                <img src="/assets/images/small/img-3.jpg" alt=""
                                                     class="img-fluid rounded">
                                            </a>
                                        </div>
                                        <div class="col-lg-4">
                                            <a href="#!">
                                                <img src="/assets/images/small/img-4.jpg" alt=""
                                                     class="img-fluid rounded">
                                            </a>
                                        </div>
                                    </div>
                                    <h6 class="mt-3 text-muted">Monday 1:00 PM</h6>
                                </div>
                            </div>
                        </div>
                        <div class="position-relative ps-4">
                            <div class="mb-4">
                                <span class="position-absolute start-0 translate-middle-x bg-success bg-gradient d-inline-flex align-items-center justify-content-center rounded-circle text-light fs-20"><img
                                        src="/assets/images/users/avatar-6.jpg" alt="avatar-5"
                                        class="avatar-sm rounded-circle"></span>
                                <div class="ms-2">
                                    <h5 class="mb-0 text-dark fw-semibold fs-15 lh-base">Rebecca J. added a new team
                                        member
                                    </h5>
                                    <p class="d-flex align-items-center gap-1">
                                        <iconify-icon icon="iconamoon:check-circle-1-duotone"
                                                      class="text-success"></iconify-icon>
                                        Added a new member to Front Dashboard
                                    </p>
                                    <h6 class="mt-3 text-muted">Monday 10:00 AM</h6>
                                </div>
                            </div>
                        </div>
                        <div class="position-relative ps-4">
                            <div class="mb-4">
                                <span class="position-absolute start-0 avatar-sm translate-middle-x bg-warning d-inline-flex align-items-center justify-content-center rounded-circle text-light fs-20"><iconify-icon
                                        icon="iconamoon:certificate-badge-duotone"></iconify-icon></span>
                                <div class="ms-2">
                                    <h5 class="mb-0 text-dark fw-semibold fs-15 lh-base">Achievements
                                    </h5>
                                    <p class="d-flex align-items-center gap-1 mt-1">Earned a
                                        <iconify-icon icon="iconamoon:certificate-badge-duotone"
                                                      class="text-danger fs-20"></iconify-icon>
                                        " Best Product Award"
                                    </p>
                                    <h6 class="mt-3 text-muted">Monday 9:30 AM</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="#!" class="btn btn-outline-dark w-100">View All</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Sidebar (Theme Settings) -->
    <div>
        <div class="offcanvas offcanvas-end border-0" tabindex="-1" id="theme-settings-offcanvas">
            <div class="d-flex align-items-center bg-primary p-3 offcanvas-header">
                <h5 class="text-white m-0">Theme Settings</h5>
                <button type="button" class="btn-close btn-close-white ms-auto" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
            </div>

            <div class="offcanvas-body p-0">
                <div data-simplebar class="h-100">
                    <div class="p-3 settings-bar">

                        <div>
                            <h5 class="mb-3 font-16 fw-semibold">Color Scheme</h5>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-bs-theme"
                                       id="layout-color-light" value="light">
                                <label class="form-check-label" for="layout-color-light">Light</label>
                            </div>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-bs-theme" id="layout-color-dark"
                                       value="dark">
                                <label class="form-check-label" for="layout-color-dark">Dark</label>
                            </div>
                        </div>

                        <div>
                            <h5 class="my-3 font-16 fw-semibold">Topbar Color</h5>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-topbar-color"
                                       id="topbar-color-light" value="light">
                                <label class="form-check-label" for="topbar-color-light">Light</label>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-topbar-color"
                                       id="topbar-color-dark" value="dark">
                                <label class="form-check-label" for="topbar-color-dark">Dark</label>
                            </div>
                        </div>


                        <div>
                            <h5 class="my-3 font-16 fw-semibold">Menu Color</h5>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-color"
                                       id="leftbar-color-light" value="light">
                                <label class="form-check-label" for="leftbar-color-light">
                                    Light
                                </label>
                            </div>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-color"
                                       id="leftbar-color-dark" value="dark">
                                <label class="form-check-label" for="leftbar-color-dark">
                                    Dark
                                </label>
                            </div>
                        </div>

                        <div>
                            <h5 class="my-3 font-16 fw-semibold">Sidebar Size</h5>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-size"
                                       id="leftbar-size-default" value="default">
                                <label class="form-check-label" for="leftbar-size-default">
                                    Default
                                </label>
                            </div>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-size"
                                       id="leftbar-size-small" value="condensed">
                                <label class="form-check-label" for="leftbar-size-small">
                                    Condensed
                                </label>
                            </div>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-size" id="leftbar-hidden"
                                       value="hidden">
                                <label class="form-check-label" for="leftbar-hidden">
                                    Hidden
                                </label>
                            </div>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-size"
                                       id="leftbar-size-small-hover-active" value="sm-hover-active">
                                <label class="form-check-label" for="leftbar-size-small-hover-active">
                                    Small Hover Active
                                </label>
                            </div>

                            <div class="form-check mb-2">
                                <input class="form-check-input" type="radio" name="data-menu-size"
                                       id="leftbar-size-small-hover" value="sm-hover">
                                <label class="form-check-label" for="leftbar-size-small-hover">
                                    Small Hover
                                </label>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="offcanvas-footer border-top p-3 text-center">
                <div class="row">
                    <div class="col">
                        <button type="button" class="btn btn-danger w-100" id="reset-layout">Reset</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ========== Topbar End ========== -->

    <!-- ========== App Menu Start ========== -->
    <div th:include="~{fragments/admin/panel_menu.html}"></div>
    <!-- ========== App Menu End ========== -->

    <!-- ==================================================== -->
    <!-- Start right Content here -->
    <!-- ==================================================== -->
    <div class="page-content">

        <!-- Start Container Fluid -->
        <div class="container-xxl">

            <div class="row">
                <form id="productEditForm" enctype="multipart/form-data">
                    <input type="hidden" id="productId" th:value="${productId}" name="id">

                    <div class="col-xl-9 col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Th√¥ng tin</h4>
                            </div>
                            <div class="card-body">
                                <!-- Product Title -->
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="mb-3">
                                            <label for="product-name" class="form-label">T√™n s·∫£n ph·∫©m</label>
                                            <input type="text" id="product-name" name="title" class="form-control"
                                                   placeholder="T√™n s·∫£n ph·∫©m" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-3">
                                        <label for="product-categories" class="form-label">Lo·∫°i s·∫£n ph·∫©m</label>
                                        <select class="form-control" id="product-categories" name="categoryId" required>
                                            <option value="">Ch·ªçn lo·∫°i s·∫£n ph·∫©m</option>
                                            <!-- Load via AJAX -->
                                        </select>
                                    </div>
                                    <div class="col-lg-3">
                                        <label for="product-brand" class="form-label">Th∆∞∆°ng hi·ªáu</label>
                                        <select class="form-control" id="product-brand" name="brandId" required>
                                            <option value="">Ch·ªçn th∆∞∆°ng hi·ªáu</option>
                                            <!-- Load via AJAX -->
                                        </select>
                                    </div>
                                </div>

                                <!-- Product Image -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="mb-3">
                                            <label for="image" class="form-label">·∫¢nh s·∫£n ph·∫©m</label>
                                            <input type="file" class="form-control bg-light-subtle"
                                                   id="image" name="image" placeholder="·∫¢nh s·∫£n ph·∫©m">
                                        </div>
                                    </div>
                                </div>

                                <!-- Product Description -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="mb-3">
                                            <label for="description" class="form-label">M√¥ t·∫£ s·∫£n ph·∫©m</label>
                                            <textarea name="description" class="form-control bg-light-subtle"
                                                      id="description" rows="7" placeholder="M√¥ t·∫£ s·∫£n ph·∫©m"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <!-- Voucher field removed -->
                            </div>
                        </div>

                        <!-- Price and Size Details -->
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">Gi√° v√† Size</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-4">
                                        <label for="product-price" class="form-label">Gi√° s·∫£n ph·∫©m</label>
                                        <div class="input-group mb-3">
                                            <span class="input-group-text fs-20"><i class='bx bx-dollar'></i></span>
                                            <input type="number" id="product-price" name="price" class="form-control"
                                                   placeholder="Gi√° s·∫£n ph·∫©m" required>
                                        </div>
                                    </div>
                                </div>

                                <!-- Size and Price Add Fields for each size -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <h5>Ch·ªçn size v√† th√™m gi√° cho t·ª´ng size</h5>
                                        <div class="form-group">
                                            <label class="form-label">Size</label>
                                            <table class="table table-bordered">
                                                <thead>
                                                <tr>
                                                    <th>Size</th>
                                                    <th>Gi√° th√™m</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <!-- Sizes 38-45 -->
                                                <tr><td>38</td><td><input type="number" name="productDetails[38].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>39</td><td><input type="number" name="productDetails[39].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>40</td><td><input type="number" name="productDetails[40].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>41</td><td><input type="number" name="productDetails[41].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>42</td><td><input type="number" name="productDetails[42].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>43</td><td><input type="number" name="productDetails[43].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>44</td><td><input type="number" name="productDetails[44].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                <tr><td>45</td><td><input type="number" name="productDetails[45].priceAdd" class="form-control" placeholder="Gi√° th√™m" min="0" step="0.01"/></td></tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>

                        <!-- Save and Cancel Buttons -->
                        <div class="p-3 bg-light mb-3 rounded">
                            <div class="row justify-content-end g-2">
                                <div class="col-lg-2">
                                    <button type="submit" class="btn btn-outline-secondary w-100">L∆∞u th√¥ng tin</button>
                                </div>
                                <div class="col-lg-2">
                                    <a href="/admin/product" class="btn btn-primary w-100">Hu·ª∑</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- END Wrapper -->
<!-- Vendor Javascript (Require in all Page) -->
<script src="/assets/js/vendor.js"></script>

<!-- App Javascript (Require in all Page) -->
<script src="/assets/js/app.js"></script>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
$(document).ready(function() {
    const productId = $('#productId').val();
    console.log('üîç Product ID:', productId);
    
    let categoriesLoaded = false;
    let brandsLoaded = false;
    let productData = null;
    
    // Function to fill product data after all dropdowns are ready
    function fillProductData() {
        if (categoriesLoaded && brandsLoaded && productData) {
            console.log('‚úÖ Filling form with product data:', productData);
            
            $('#product-name').val(productData.title);
            $('#description').val(productData.description);
            $('#product-price').val(productData.price);
            
            // Find category by name
            const categoryOption = $('#product-categories option').filter(function() {
                return $(this).text() === productData.categoryName;
            });
            if (categoryOption.length > 0) {
                $('#product-categories').val(categoryOption.val());
                console.log('‚úÖ Category set:', productData.categoryName, '- ID:', categoryOption.val());
            } else {
                console.warn('‚ö†Ô∏è Category not found:', productData.categoryName);
            }
            
            // Find brand by name
            const brandOption = $('#product-brand option').filter(function() {
                return $(this).text() === productData.brandName;
            });
            if (brandOption.length > 0) {
                $('#product-brand').val(brandOption.val());
                console.log('‚úÖ Brand set:', productData.brandName, '- ID:', brandOption.val());
            } else {
                console.warn('‚ö†Ô∏è Brand not found:', productData.brandName);
            }
            
            // Fill size options (price add for each size) if available
            if (productData.sizeOptions && productData.sizeOptions.length > 0) {
                console.log('üì¶ Size options found:', productData.sizeOptions);
                productData.sizeOptions.forEach(function(sizeOption) {
                    const inputName = `productDetails[${sizeOption.size}].priceAdd`;
                    const input = $(`input[name="${inputName}"]`);
                    if (input.length > 0) {
                        input.val(sizeOption.priceAdd);
                        console.log(`  ‚úÖ Size ${sizeOption.size} priceAdd set:`, sizeOption.priceAdd);
                    } else {
                        console.warn(`  ‚ö†Ô∏è Input not found for size ${sizeOption.size}`);
                    }
                });
            } else {
                console.warn('‚ö†Ô∏è No sizeOptions found in response');
                console.log('üì¶ Full product data:', productData);
            }
        }
    }
    
    // Load categories
    $.ajax({
        url: '/api/category/list',
        type: 'GET',
        success: function(categories) {
            console.log('üì¶ Categories loaded:', categories);
            categories.forEach(function(cat) {
                $('#product-categories').append(
                    `<option value="${cat.id}">${cat.name}</option>`
                );
            });
            categoriesLoaded = true;
            fillProductData();
        },
        error: function(xhr) {
            console.error('‚ùå Failed to load categories:', xhr);
        }
    });
    
    // Load brands
    $.ajax({
        url: '/api/brand/list',
        type: 'GET',
        success: function(brands) {
            console.log('üì¶ Brands loaded:', brands);
            brands.forEach(function(brand) {
                $('#product-brand').append(
                    `<option value="${brand.id}">${brand.name}</option>`
                );
            });
            brandsLoaded = true;
            fillProductData();
        },
        error: function(xhr) {
            console.error('‚ùå Failed to load brands:', xhr);
        }
    });
    
    // Load product data
    $.ajax({
        url: `/api/product/${productId}`,
        type: 'GET',
        success: function(product) {
            console.log('üì¶ Product data loaded:', product);
            productData = product;
            fillProductData();
        },
        error: function(xhr) {
            console.error('‚ùå Failed to load product:', xhr);
            alert('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu s·∫£n ph·∫©m!');
            window.location.href = '/admin/product';
        }
    });
    
    // Handle form submit
    $('#productEditForm').submit(function(e) {
        e.preventDefault();
        console.log('üì§ Form submitted');
        
        const formData = new FormData(this);
        
        // Create request JSON
        const request = {
            title: $('#product-name').val(),
            description: $('#description').val(),
            price: parseFloat($('#product-price').val()),
            categoryId: parseInt($('#product-categories').val()),
            brandId: parseInt($('#product-brand').val())
        };
        
        console.log('üì¶ Request data:', request);
        console.log('üì¶ FormData entries:');
        for (let pair of formData.entries()) {
            console.log('  -', pair[0], ':', pair[1]);
        }
        
        formData.append('request', new Blob([JSON.stringify(request)], {type: 'application/json'}));
        
        $.ajax({
            url: `/api/product/${productId}`,
            type: 'PUT',
            data: formData,
            processData: false,
            contentType: false,
            success: function(response) {
                console.log('‚úÖ Update successful:', response);
                alert(response || 'C·∫≠p nh·∫≠t th√†nh c√¥ng!');
                window.location.href = '/admin/product';
            },
            error: function(xhr) {
                console.error('‚ùå Update failed:', xhr);
                console.error('‚ùå Response:', xhr.responseText);
                alert('L·ªói: ' + (xhr.responseText || 'Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t s·∫£n ph·∫©m!'));
            }
        });
    });
});
</script>
</body>
</html>